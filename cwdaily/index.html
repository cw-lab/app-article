<!DOCTYPE html>
<html lang="zh-Hant-TW">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="format-detection" content="telephone=no,date=no,address=no,email=no,url=no">
		<meta name="robots" content="noindex,nofollow">
		<title>每日報UX實驗</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400&display=swap">
		<link rel="stylesheet" href="assets/css/main.min.css">
		<link rel="stylesheet" href="assets/css/player.min.css">
		<script type="text/javascript">
			(function (w, d, s, l, i) {
				w[l] = w[l] || []
				w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' })
				var f = d.getElementsByTagName(s)[0],
				j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''
				j.async = true
				j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl
				f.parentNode.insertBefore(j, f)
			})(window, document, 'script', 'dataLayer', 'GTM-NL5VDDN')
			function checkDataLayerPromoViewExists (data) {
				let obj = { exists: false, key: null }
				_.forEach(data, function (value, key) {
					if (_.hasIn(value, ['ecommerce', 'promoView', 'promotions'])) {
						obj.exists = true
						obj.key = key
						return null
					}
				})
				return obj
			}
		</script>
	</head>
	<body class="index_page">
		<div id="app">
			<header>
				<div class="d-flex">
					<div class="day line-height-100" @click="isShow = !isShow">
						<div class="fs-1 font-weight-500 my-0">{{ week }}</div>
						<div class="fs-6 text-gray-300 mt-5 mb-0">{{ todays.date }}</div>
						<img src="assets/images/down.svg" width="18" :class="{'active': isShow}" alt="">
					</div>
					<div class="calendar-hide">
						<transition name="slide">
							<div class="calendar px-5 pt-20 pb-5 font-weight-400" v-show="isShow">
								<div class="week week-title d-flex text-center">
									<div class="item"><span>日</span></div>
									<div class="item"><span>一</span></div>
									<div class="item"><span>二</span></div>
									<div class="item"><span>三</span></div>
									<div class="item"><span>四</span></div>
									<div class="item"><span>五</span></div>
									<div class="item"><span>六</span></div>
								</div>
								<div class="week week-day d-flex text-center">
									<a class="item text-black" :class="{'now': week.date == todays.date}" :href="`index.html?date=${week.date}`" v-for="(week, idx) in calendar" :key="idx">
										<span>{{ week.day }}</span>
										<i v-if="(idx + 1) == calendar.length">今日</i>
									</a>
								</div>
							</div>
						</transition>
					</div>
				</div>
			</header>
			<main class="px-20 pb-20">
				<div class="card card-espresso" v-show="espresso.state">
					<div class="card-body">
						<a class="d-block" :href="`espresso.html?date=${date}`">
							<span class="card-title d-block fs-3 font-weight-500 mt-0 mb-5">
								國際新聞掃描
							</span>
							<ul class="card-subtitle d-block fs-3 my-0 p-0" v-html="espresso.list"></ul>
						</a>
						<button type="button" class="d-flex p-0 mt-5" @click="clickPlay(`${chineseDate(date)} 國際新聞掃描`, espresso.audio_url)">
							<img src="assets/images/earphone.svg" width="18" alt="">
							<span class="d-block fs-6 text-black my-0">{{ espresso.audio_duration }}</span>
						</button>
					</div>
				</div>
				<div class="card" v-for="(item, idx) in todayLists" :key="idx">
					<a class="b-block card-img" v-if="idx == 0 | idx == 3 | idx == 6" :href="`article.html?id=${item.id}&date=${date}`">
						<img :src="item.image_url" width="100%" class="b-block" alt="">
					</a>
					<div class="card-body">
						<a class="d-block" :href="`article.html?id=${item.id}&date=${date}`">
							<span class="card-subchannel d-block fs-6 mt-0 mb-5">{{ item.channel }}</span>
							<span class="card-title d-block fs-3 my-0">
								{{ item.title }}
							</span>
						</a>
						<button type="button" class="d-flex p-0 mt-5" @click="clickPlay(item.title, item.audio_url)">
							<img src="assets/images/earphone.svg" width="18" alt="">
							<span class="d-block fs-6 text-black my-0">{{ item.audio_duration }}</span>
						</button>
					</div>
				</div>
				<div class="black" v-show="isShow" @click="isShow = !isShow"></div>
				<div class="player-group" :class="{ 'scroll': scrollToggle }" v-show="playerToggle">
					<div class="player">
						<div class="play-pause-btn" v-show="playerToggle">  
							<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M21.2625 13.7081L10.2625 7.20524C9.36875 6.67714 8 7.18962 8 8.49581V21.4984C8 22.6702 9.27187 23.3765 10.2625 22.789L21.2625 16.2892C22.2437 15.7111 22.2468 14.2862 21.2625 13.7081Z" fill="black" class="play-pause-icon" id="playPause"/>
							</svg>
						</div>
						<div class="controls">
							<div class="slider" data-direction="horizontal">
								<div class="progress">
									<div class="pin" id="progress-pin" data-method="rewind"></div>
								</div>
							</div>
						</div>
						<div class="name">{{ audio.title }}</div>
						<div class="close" @click="closePlay()">
							<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M15.6633 14.9998L22.3632 8.30077C22.5463 8.11769 22.5463 7.82038 22.3632 7.63731C22.1801 7.45423 21.8827 7.45423 21.6996 7.63731L14.9998 14.3364L8.29989 7.63877C8.11679 7.4557 7.82091 7.4557 7.63781 7.63877C7.45471 7.82184 7.45471 8.11916 7.63781 8.30223L14.3362 14.9998L7.63781 21.6989C7.45471 21.8819 7.45471 22.1793 7.63781 22.3623C7.72863 22.4531 7.84874 22.5 7.96885 22.5C8.08896 22.5 8.20907 22.4546 8.29989 22.3623L14.9998 15.6633L21.6996 22.3623C21.7904 22.4531 21.9106 22.5 22.0307 22.5C22.1508 22.5 22.2709 22.4546 22.3617 22.3623C22.5448 22.1793 22.5448 21.8819 22.3617 21.6989L15.6633 14.9998Z" fill="black" stroke="black"/>
							</svg>
						</div>
						<audio crossorigin>
							<source :src="audio.url" type="audio/mpeg">
						</audio>
					</div>
				</div>
			</main>
		</div>
	</body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
	<script src="assets/js/index.js" type="module"></script>
</html>